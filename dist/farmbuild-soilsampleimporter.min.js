"use strict";angular.module("farmbuild.soilSampleImporter",["farmbuild.core","farmbuild.farmdata"]).factory("soilSampleImporter",function(soilSampleImporterSession,farmdata,validations,googleAnalyticsImporter,$log){function createDefault(){return{}}var soilSampleImporter={farmdata:farmdata},_isDefined=(validations.isPositiveNumber,validations.isDefined);return soilSampleImporter.version="0.1.0",soilSampleImporter.ga=googleAnalyticsImporter,soilSampleImporter.session=soilSampleImporterSession,$log.info("Welcome to Farm Dairy Soil Sample Importer... this should only be initialised once! why we see twice in the example?"),soilSampleImporter.find=function(){return soilSampleImporterSession.find()},soilSampleImporter.load=function(farmData){var loaded=farmdata.load(farmData);return _isDefined(loaded)?(loaded.hasOwnProperty("soilSampleImporter")||(loaded.soilSampleImporter=createDefault(),loaded=farmdata.update(loaded)),loaded):void 0},"undefined"==typeof window.farmbuild?window.farmbuild={nutrientcalculator:soilSampleImporter}:window.farmbuild.nutrientcalculator=soilSampleImporter,soilSampleImporter}),angular.module("farmbuild.soilSampleImporter").factory("googleAnalyticsImporter",function($log,validations,googleAnalytics){{var googleAnalyticsImporter={},api="farmbuild-dairy-nutrient-calculator";validations.isDefined}return googleAnalyticsImporter.track=function(clientName){$log.info("googleAnalyticsImporter.track clientName: %s",clientName),googleAnalytics.track(api,clientName)},googleAnalyticsImporter}),angular.module("farmbuild.soilSampleImporter").factory("soilSampleImporterSession",function($log,farmdata,validations){function load(){var root=farmdata.session.find();return _isDefined(root)?root.soilSampleImporter:void 0}function save(toSave){var farmData=farmdata.session.find();return _isDefined(farmData)?(farmData.dateLastUpdated=new Date,farmData.soilSampleImporter=toSave,farmdata.session.save(farmData),toSave):void $log.error("Unable to find the farmData in the session!")}var soilSampleImporterSession={},_isDefined=validations.isDefined;return soilSampleImporterSession.saveSection=function(section,value){var loaded=load();return _isDefined(loaded)?(loaded[section]=value,save(loaded)):($log.error("Unable to find an existing farmData! please create then save."),soilSampleImporterSession)},soilSampleImporterSession.save=save,soilSampleImporterSession.loadSection=function(section){var loaded=load();return loaded?loaded[section]:null},soilSampleImporterSession.isLoadFlagSet=function(location){var load=!1;return location.href.split("?").length>1&&0===location.href.split("?")[1].indexOf("load")&&(load="true"===location.href.split("?")[1].split("=")[1]),load},soilSampleImporterSession.find=function(){return farmdata.session.find()},soilSampleImporterSession}),angular.module("farmbuild.soilSampleImporter").run(function(soilSampleImporter){}),angular.injector(["ng","farmbuild.soilSampleImporter"]);
//# sourceMappingURL=farmbuild-nutrientcalculator.min.js.map