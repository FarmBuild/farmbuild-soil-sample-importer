{"version":3,"file":"dist/farmbuild-soilsampleimporter.min.js","sources":["dist/farmbuild-soilsampleimporter.js"],"names":["angular","module","factory","soilSampleImporterSession","soilSampleConverter","importField","soilSampleValidator","soilClassification","paddockSoilSampleRetriever","paddockGroups","farmdata","validations","googleAnalyticsSoilSampleImporter","$log","soilSampleImporter","_isDefined","isPositiveNumber","isDefined","version","ga","session","info","find","load","inputFarmData","loaded","JSON","stringify","hasOwnProperty","soils","sampleResults","createDefault","update","undefined","toFarmData","isValidFarmDataWithSoilSample","classifyResult","hasAverage","hasClassification","getPaddockGroupFields","averageForPaddocks","averagesForPaddock","averageForPaddockGroups","averageForPaddockGroup","window","farmbuild","dateLastUpdated","Date","results","columnHeaders","rows","importFieldDictionary","paddockRowDictionary","paddockNameColumn","farmData","newSampleResults","isValidSoilSampleResult","currentSoils","currentPaddocks","paddocks","farmDataSampleResults","newResults","newImportFieldDictionary","importFieldNames","Object","keys","length","i","singlePaddock","paddockRows","name","_isArray","singlePaddockSoils","k","rowValues","sampleValue","j","indexOfValue","rowFieldValue","_isEmpty","isNaN","parseFloat","push","singlePaddockSoil","isArray","isEmpty","soilSampleResults","soilSampleResult","rowsData","numberOfPaddocks","totalCSVColumns","singleRow","error","googleAnalytics","api","trackSoilSampleImporter","clientName","track","constant","types","soilClassificationName","importFieldTypes","importFieldName","fieldType","byName","result","allImportFields","toArray","collections","importFieldDefaults","_create","type","_validate","valid","_add","add","isPositiveNumberOrZero","_types","copy","at","index","size","byProperty","removeAt","last","validate","create","importFieldSelectionValidator","_findPaddockWithName","trim","toUpperCase","importFieldSelector","_paddocks","createNew","myFarmData","paddockColumnIndex","validateCreateNew","validateImportFieldsDefinition","save","importFieldsDefinition","key","rowIndex","autoLinkPaddock","linkColumnIndex","linkedCount","mappedPaddock","mappedRowIndex","concat","indexOf","paddock","this","connectRow","paddockSelection","disconnectRow","remove","resetPaddockRowDictionary","classifyColumn","classificationType","declassifyColumn","_isEmptyObject","obj","aRow","paddockGoupValidator","paddocksInPaddockGroup","paddockGroupName","paddockList","farmDataHasPaddockGroups","singleGroup","groupPaddocks","allPaddockSoils","soilsSamples","soilSamplesInPaddock","importFields","averageGroup","averagesForSoilSamples","paddockGoups","paddockName","paddockSoil","soilSamples","columnValues","singelSoilSample","fieldValue","singleColumn","sum","count","averageValues","root","toSave","saveSection","section","value","loadSection","isLoadFlagSet","location","href","split","document","ranges","min","max","defaultColor","dependencyRange","soilClassificationTypes","_isWithinRange","classificationValue","_findRangeIndex","minArray","maxArray","_copyResult","classificationRange","_isValidType","anObject","err","findRange","aRange","findRangeWithDependency","dependencyValue","sampleResult","soilClassificationDefaults","run","injector"],"mappings":"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"}